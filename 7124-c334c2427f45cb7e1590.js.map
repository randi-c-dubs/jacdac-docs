{"version":3,"file":"7124-c334c2427f45cb7e1590.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEe,SAASO,aAAT,GAAyB;AACpC,MAAM;AAAEC,IAAAA;AAAF,MAAaN,iDAAU,CAACI,gEAAD,CAA7B;AACA,MAAMG,KAAK,GAAGT,mEAAQ,EAAtB;AACA,MAAM;AAAA,OAACU,IAAD;AAAA,OAAOC;AAAP,MAAkBP,+CAAQ,CAAoC,EAApC,CAAhC;AAEAD,EAAAA,gDAAS,CAAC,MAAM;AACZQ,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAH,IAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEI,SAAR,CAAkBP,4EAAlB,EAAgC,MAAM;AAClCM,MAAAA,OAAO,CAAC,CAAAH,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEK,OAAR,KAAmB,EAApB,CAAP;AACH,KAFD;AAGH,GALQ,EAKN,CAACL,MAAD,CALM,CAAT;AAOA,sBACI;AACI,SAAK,EAAE;AACHM,MAAAA,OAAO,EAAE,GADN;AAEHC,MAAAA,YAAY,EAAE,GAFX;AAGHC,MAAAA,UAAU,EAAE,MAHT;AAIHC,MAAAA,KAAK,EAAER,KAAK,CAACS,OAAN,CAAcC,IAAd,CAAmBC,OAJvB;AAKHC,MAAAA,SAAS,EAAE,MALR;AAMHC,MAAAA,SAAS,EAAE;AANR;AADX,KAUKZ,IAAI,CACAa,KADJ,CACU,CAAC,EADX,EAEIC,GAFJ,CAEQC,CAAC,UAAOA,CAAC,CAACC,KAAF,GAAU,CAAV,GAAiBD,CAAC,CAACC,KAAnB,UAA+B,EAAtC,IAA2CD,CAAC,CAACN,IAFtD,EAGIQ,IAHJ,CAGS,IAHT,CAVL,CADJ;AAiBH","sources":["webpack://jacdac-docs/./src/components/blockly/fields/LogViewWidget.tsx"],"sourcesContent":["import { useTheme } from \"@material-ui/core\"\nimport React, { useContext, useEffect, useState } from \"react\"\nimport { VM_LOG_ENTRY } from \"../../../../jacdac-ts/src/vm/events\"\nimport WorkspaceContext from \"../WorkspaceContext\"\n\nexport default function LogViewWidget() {\n    const { runner } = useContext(WorkspaceContext)\n    const theme = useTheme()\n    const [logs, setLogs] = useState<{ text: string; count: number }[]>([])\n\n    useEffect(() => {\n        setLogs([])\n        runner?.subscribe(VM_LOG_ENTRY, () => {\n            setLogs(runner?.logData || [])\n        })\n    }, [runner])\n\n    return (\n        <pre\n            style={{\n                padding: \"0\",\n                marginBottom: \"0\",\n                background: \"none\",\n                color: theme.palette.text.primary,\n                maxHeight: \"80vh\",\n                overflowY: \"auto\",\n            }}\n        >\n            {logs\n                .slice(-20)\n                .map(l => `${l.count > 1 ? `${l.count}: ` : \"\"}${l.text}`)\n                .join(\"\\n\")}\n        </pre>\n    )\n}\n"],"names":["useTheme","React","useContext","useEffect","useState","VM_LOG_ENTRY","WorkspaceContext","LogViewWidget","runner","theme","logs","setLogs","subscribe","logData","padding","marginBottom","background","color","palette","text","primary","maxHeight","overflowY","slice","map","l","count","join"],"sourceRoot":""}
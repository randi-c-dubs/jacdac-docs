{"version":3,"file":"973-a1c75a6699e2910276d7.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/ChevronLeft.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/LiveTv.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Pause.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Replay.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Save.js","webpack://jacdac-docs/./jacdac-ts/src/jdom/logparser.ts","webpack://jacdac-docs/./src/components/alert/ConnectAlert.tsx","webpack://jacdac-docs/./src/components/trace/TraceImportButton.tsx","webpack://jacdac-docs/./src/components/trace/TraceSaveButton.tsx","webpack://jacdac-docs/./node_modules/@material-ui/icons/esm/FiberManualRecord.js","webpack://jacdac-docs/./src/components/trace/TraceRecordButton.tsx","webpack://jacdac-docs/./src/components/PacketRecorder.tsx","webpack://jacdac-docs/./src/components/shell/AppDrawer.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2zm0 14H3V8h18v12zM9 10v8l7-4z\"\n}), 'LiveTv');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n}), 'Pause');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"\n}), 'Replay');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","import { arrayConcatMany, fromHex } from \"./utils\"\nimport JDBus from \"./bus\"\nimport Packet from \"./packet\"\nimport TracePlayer from \"./trace/traceplayer\"\nimport Frame from \"./frame\"\nimport Trace from \"./trace/trace\"\nimport { META_TRACE } from \"./constants\"\n\n/**\n * Parse a trace text file\n * @param contents\n * @returns\n * @category Trace\n */\nexport function parseTrace(contents: string): Trace {\n    const description: string[] = []\n    const packets: Packet[] = []\n    contents?.split(/\\r?\\n/).forEach(ln => {\n        // parse data\n        const m = /^(\\d+.?\\d*)\\s+([a-f0-9]{12,})/i.exec(ln)\n        if (!m) {\n            // might be a stack trace\n            if (/^\\s+at\\s/.test(ln)) {\n                const lastPacket = packets[packets.length - 1]\n                if (lastPacket) {\n                    let trace = (lastPacket.meta[META_TRACE] as string) || \"\"\n                    trace += ln + \"\\n\"\n                    lastPacket.meta[META_TRACE] = trace\n                }\n            } else {\n                // probably junk data\n                if (packets.length == 0) description.push(ln)\n            }\n            return\n        }\n\n        const timestamp = parseInt(m[1])\n        const data = fromHex(m[2])\n        // add to array\n        packets.push(Packet.fromBinary(data, timestamp))\n    })\n    if (packets.length) return new Trace(packets, description.join(\"\\n\").trim())\n    else return undefined\n}\n\n/**\n * Parses a logic analyzer log into a trace\n * @param logcontents\n * @returns\n * @category Trace\n */\nexport function parseLogicLog(logcontents: string): Frame[] {\n    if (!logcontents) return undefined\n\n    const res: Frame[] = []\n    let frameBytes = []\n    let lastTime = 0\n    for (const ln of logcontents.split(/\\r?\\n/)) {\n        let m = /^JD (\\d+) ([0-9a-f]+)/i.exec(ln)\n        if (m) {\n            res.push({\n                timestamp: parseInt(m[1]),\n                data: fromHex(m[2]),\n            })\n            continue\n        }\n\n        /** Windows, logic 1.*\nTime [s],Value,Parity Error,Framing Error\n0.042909760000000,0x00,,Error\n0.042980320000000,0xD4,,\n0.042990240000000,0x81,,\n0.043000160000000,0x10,,\n0.043010240000000,0x00,,\n0.043020160000000,0xE8,,\n0.043030240000000,0xDF,,\n0.043040160000000,0xCB,,\n0.043050240000000,0xD1,,\n0.043060160000000,0x97,,\n0.043070240000000,0x34,,\n0.043080160000000,0x37,,\n0.043090240000000,0x48,,\n0.043100160000000,0x0C,,\n0.043110080000000,0x00,,\n0.043120160000000,0x00,,\n0.043130080000000,0x00,,\n0.043140160000000,0x00,,\n0.043150080000000,0x00,,\n0.043160160000000,0x00,,\n0.043170080000000,0x00,,\n0.043180160000000,0xCA,,\n0.043190080000000,0x1F,,\n0.043200160000000,0xDC,,\n0.043210080000000,0x12,,\n0.043220160000000,0x46,,\n0.043230080000000,0x47,,\n0.043240160000000,0x27,,\n0.043250080000000,0x1F,,\n0.043264800000000,0x00,,Error\n0.063968960000000,0x00,,Error\n         */\n        m = /^([\\d.]+),(?:Async Serial,)?.*(0x[A-F0-9][A-F0-9])/.exec(ln)\n        if (!m) continue\n        const tm = parseFloat(m[1])\n        if (lastTime && tm - lastTime > 0.1) {\n            res.push({\n                timestamp: lastTime * 1000,\n                data: new Uint8Array(frameBytes),\n                info: \"timeout\",\n            })\n            frameBytes = []\n            lastTime = 0\n        }\n\n        lastTime = tm\n        if (/(framing error|Error)/.test(ln)) {\n            if (frameBytes.length > 0)\n                res.push({\n                    timestamp: lastTime * 1000,\n                    data: new Uint8Array(frameBytes),\n                })\n            frameBytes = []\n            lastTime = 0\n        } else {\n            frameBytes.push(parseInt(m[2]))\n        }\n    }\n\n    return res\n}\n\n/**\n * Replays a parsed logic log\n * @param bus\n * @param frames\n * @param speed\n * @category Trace\n */\nexport function replayLogicLog(\n    bus: JDBus,\n    frames: Frame[],\n    speed?: number\n): void {\n    const packets = arrayConcatMany(\n        frames.map(frame => Packet.fromFrame(frame.data, frame.timestamp))\n    )\n    const player = new TracePlayer(bus, speed)\n    player.trace = new Trace(packets)\n    bus.clear(packets[0].timestamp)\n    player.start()\n}\n","// tslint:disable-next-line: no-submodule-imports\nimport { Box, createStyles, makeStyles } from \"@material-ui/core\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React, { useContext } from \"react\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport ConnectButton from \"../buttons/ConnectButton\"\nimport { NoSsr } from \"@material-ui/core\"\nimport useChange from \"../../jacdac/useChange\"\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        button: {\n            marginLeft: theme.spacing(2),\n        },\n    })\n)\n\nfunction NoSsrConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    const classes = useStyles()\n    const { serviceClass, closeable } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { transports } = bus\n    const devices = useChange(bus, b =>\n        b.devices({ serviceClass, ignoreSelf: true })\n    )\n    const spec = serviceSpecificationFromClassIdentifier(serviceClass)\n\n    // don't show if no transport, some devices\n    if (!transports.length || devices?.length) return null\n\n    return (\n        <Box displayPrint=\"none\">\n            <Alert severity=\"info\" closeable={closeable}>\n                {!spec && <span>Did you connect your device?</span>}\n                {spec && <span>Did you connect a {spec.name} device?</span>}\n                {transports.map(transport => (\n                    <ConnectButton\n                        key={transport.type}\n                        transport={transport}\n                        className={classes.button}\n                        full={true}\n                        transparent={true}\n                    />\n                ))}\n            </Alert>\n        </Box>\n    )\n}\n\nexport default function ConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    return (\n        <NoSsr>\n            <NoSsrConnectAlert {...props} />\n        </NoSsr>\n    )\n}\n","import React, { useState, useContext, lazy } from \"react\"\nimport {\n    parseLogicLog,\n    parseTrace,\n} from \"../../../jacdac-ts/src/jdom/logparser\"\nimport PacketsContext from \"../PacketsContext\"\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\"\nimport { arrayConcatMany } from \"../../../jacdac-ts/src/jdom/utils\"\nimport AppContext from \"../AppContext\"\nimport Trace from \"../../../jacdac-ts/src/jdom/trace/trace\"\n\nimport Suspense from \"../ui/Suspense\"\nconst ImportButton = lazy(() => import(\"../ImportButton\"))\n\nexport default function TraceImportButton(props: {\n    icon?: boolean\n    disabled?: boolean\n}) {\n    const { icon, disabled } = props\n    const { recording, setReplayTrace } = useContext(PacketsContext)\n    const { setError } = useContext(AppContext)\n    const [importing, setImporting] = useState(false)\n\n    const handleFiles = async (files: File[]) => {\n        const file = files[0]\n        if (file) {\n            try {\n                setImporting(true)\n                const txt = await file.text()\n\n                let trace: Trace\n                // let's try a few format and see if we're lucky\n                try {\n                    trace = parseTrace(txt)\n                } catch (e) {\n                    console.log(`trace parse error`, e)\n                }\n\n                // try logic format\n                if (!trace) {\n                    try {\n                        const frames = parseLogicLog(txt) // ensure format is ok\n                        const packets = arrayConcatMany(\n                            frames.map(frame =>\n                                Packet.fromFrame(frame.data, frame.timestamp)\n                            )\n                        )\n                        if (packets?.length) trace = new Trace(packets)\n                    } catch (e) {\n                        console.log(`logic parse error`, e)\n                    }\n                }\n\n                // found anything?\n                if (trace) {\n                    console.log(`importing ${trace.packets.length} packets`)\n                    setReplayTrace(trace)\n                } else setError(\"could not parse file\")\n            } finally {\n                setImporting(false)\n            }\n        }\n    }\n\n    return (\n        <Suspense>\n            <ImportButton\n                icon={icon}\n                disabled={importing || recording || disabled}\n                text=\"Import Trace File\"\n                onFilesUploaded={handleFiles}\n            />\n        </Suspense>\n    )\n}\n","import React, { useContext } from \"react\"\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport ServiceManagerContext from \"../ServiceManagerContext\"\nimport PacketsContext from \"../PacketsContext\"\nimport IconButtonWithTooltip from \"../ui/IconButtonWithTooltip\"\n\nexport default function TraceSaveButton() {\n    const { replayTrace, trace, recording, tracing } =\n        useContext(PacketsContext)\n    const { fileStorage } = useContext(ServiceManagerContext)\n    const savedTrace = replayTrace || trace\n    const saveTrace = () => {\n        const text = savedTrace.serializeToText()\n        fileStorage.saveText(\"trace.jd.txt\", text)\n    }\n    return (\n        <IconButtonWithTooltip\n            title=\"save trace\"\n            disabled={recording || tracing || !savedTrace?.packets.length}\n            size=\"small\"\n            key=\"save\"\n            onClick={saveTrace}\n        >\n            <SaveIcon />\n        </IconButtonWithTooltip>\n    )\n}\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"8\"\n}), 'FiberManualRecord');","import { FiberManualRecord } from \"@material-ui/icons\"\nimport React, { useContext } from \"react\"\nimport PacketsContext from \"../PacketsContext\"\nimport IconButtonWithProgress, {\n    IconButtonWithProgressProps,\n} from \"../ui/IconButtonWithProgress\"\n\nexport default function TraceRecordButton(\n    props: { component?: string } & IconButtonWithProgressProps\n) {\n    const { disabled, ...others } = props\n    const { recording, tracing, toggleRecording } = useContext(PacketsContext)\n    const title = recording ? \"Stop recording\" : \"Record trace\"\n    return (\n        <IconButtonWithProgress\n            {...others}\n            aria-label={title}\n            title={title}\n            indeterminate={recording}\n            disabled={disabled || tracing}\n            onClick={toggleRecording}\n            progressStyle={{ color: \"#f66\" }}\n        >\n            {!recording && <FiberManualRecord />}\n            {recording && <FiberManualRecord style={{ color: \"#f00\" }} />}\n        </IconButtonWithProgress>\n    )\n}\n","import { Typography } from \"@material-ui/core\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ClearIcon from \"@material-ui/icons/Clear\"\nimport React, { useContext } from \"react\"\nimport PacketsContext from \"./PacketsContext\"\nimport TraceImportButton from \"./trace/TraceImportButton\"\nimport TraceSaveButton from \"./trace/TraceSaveButton\"\nimport TraceRecordButton from \"./trace/TraceRecordButton\"\nimport TracePlayButton from \"./trace/TracePlayButton\"\nimport IconButtonWithTooltip from \"./ui/IconButtonWithTooltip\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ReplayIcon from \"@material-ui/icons/Replay\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport PauseIcon from \"@material-ui/icons/Pause\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LiveTvIcon from \"@material-ui/icons/LiveTv\"\nimport TraceClearButton from \"./trace/TraceClearButton\"\n\nexport default function PacketRecorder() {\n    const {\n        clearPackets,\n        clearBus,\n        replayTrace,\n        recording,\n        tracing,\n        paused,\n        setPaused,\n    } = useContext(PacketsContext)\n\n    return (\n        <>\n            {!recording && replayTrace && (\n                <Typography variant=\"caption\">\n                    {replayTrace.packets.length} packets\n                </Typography>\n            )}\n            <TraceImportButton icon={true} disabled={tracing || recording} />\n            <TraceSaveButton />\n            |\n            <TraceRecordButton size=\"small\" />\n            <TracePlayButton size=\"small\" />\n            <TraceClearButton size=\"small\" />|\n            <IconButtonWithTooltip\n                title={paused ? \"Resume packets\" : \"pause packets\"}\n                size=\"small\"\n                key=\"pausepackets\"\n                onClick={() => setPaused(!paused)}\n            >\n                {paused ? <LiveTvIcon /> : <PauseIcon />}\n            </IconButtonWithTooltip>\n            <IconButtonWithTooltip\n                title=\"Clear Packets\"\n                size=\"small\"\n                key=\"clearpackets\"\n                onClick={clearPackets}\n                disabled={recording || tracing}\n            >\n                <ClearIcon />\n            </IconButtonWithTooltip>\n            <IconButtonWithTooltip\n                title=\"Clear Devices\"\n                size=\"small\"\n                key=\"clearbus\"\n                onClick={clearBus}\n                disabled={recording || tracing}\n            >\n                <ReplayIcon />\n            </IconButtonWithTooltip>\n        </>\n    )\n}\n","import React, { lazy, useContext } from \"react\"\nimport { Drawer, Divider, makeStyles, createStyles } from \"@material-ui/core\"\nimport Suspense from \"../ui/Suspense\"\nimport { IconButton } from \"gatsby-theme-material-ui\"\n// tslint:disable-next-line: no-submodule-imports\nimport { DRAWER_WIDTH, MOBILE_BREAKPOINT, TOC_DRAWER_WIDTH } from \"../layout\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\"\nimport AppContext, { DrawerType } from \"../AppContext\"\nimport PacketRecorder from \"../PacketRecorder\"\nimport DrawerToolsButtonGroup from \"../DrawerToolsButtonGroup\"\nimport ConnectAlert from \"../alert/ConnectAlert\"\n\nconst Toc = lazy(() => import(\"../Toc\"))\nconst PacketView = lazy(() => import(\"../tools/PacketView\"))\nconst JDomTreeView = lazy(() => import(\"../tools/JDomTreeView\"))\nconst DrawerSearchResults = lazy(() => import(\"../DrawerSearchResults\"))\nconst DrawerSearchInput = lazy(() => import(\"../DrawerSearchInput\"))\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        drawer: {\n            width: `${DRAWER_WIDTH}rem`,\n            flexShrink: 0,\n            [theme.breakpoints.down(MOBILE_BREAKPOINT)]: {\n                width: `100%`,\n            },\n        },\n        drawerPaper: {\n            width: `${DRAWER_WIDTH}rem`,\n            [theme.breakpoints.down(MOBILE_BREAKPOINT)]: {\n                width: `100%`,\n            },\n        },\n        tocDrawer: {\n            width: `${TOC_DRAWER_WIDTH}rem`,\n            flexShrink: 0,\n        },\n        tocDrawerPaper: {\n            width: `${TOC_DRAWER_WIDTH}rem`,\n        },\n        drawerHeader: {\n            display: \"flex\",\n            alignItems: \"center\",\n            padding: theme.spacing(0, 1),\n            // necessary for content to be below app bar\n            ...theme.mixins.toolbar,\n            justifyContent: \"flex-start\",\n        },\n        alertButton: {\n            marginLeft: theme.spacing(2),\n        },\n        mdx: {\n            margin: theme.spacing(2),\n        },\n        fluid: {\n            flex: 1,\n        },\n    })\n)\n\nexport default function AppDrawer(props: { pagePath: string }) {\n    const { pagePath } = props\n    const classes = useStyles()\n    const { drawerType, setDrawerType, searchQuery } = useContext(AppContext)\n    const open = drawerType !== DrawerType.None\n    const showSearchResults = drawerType === DrawerType.Toc && !!searchQuery\n\n    const handleDrawerClose = () => {\n        setDrawerType(DrawerType.None)\n    }\n\n    if (drawerType === DrawerType.None) return <></>\n\n    const toc = drawerType === DrawerType.Toc\n    return (\n        <Drawer\n            className={toc ? classes.tocDrawer : classes.drawer}\n            variant=\"persistent\"\n            anchor=\"left\"\n            open={open}\n            classes={{\n                paper: toc ? classes.tocDrawerPaper : classes.drawerPaper,\n            }}\n        >\n            <div className={classes.drawerHeader}>\n                {toc && (\n                    <div className={classes.fluid}>\n                        <Suspense>\n                            <DrawerSearchInput />\n                        </Suspense>\n                    </div>\n                )}\n                {!toc && (\n                    <>\n                        <PacketRecorder />\n                        <span className={classes.fluid} />\n                        <DrawerToolsButtonGroup showConnect={true} />\n                    </>\n                )}\n                <IconButton aria-label=\"Collapse\" onClick={handleDrawerClose}>\n                    <ChevronLeftIcon />\n                </IconButton>\n            </div>\n            <Divider />\n            {showSearchResults && (\n                <Suspense>\n                    <DrawerSearchResults />\n                </Suspense>\n            )}\n            {!showSearchResults && drawerType === DrawerType.Toc && (\n                <Suspense>\n                    <Toc pagePath={pagePath} />\n                </Suspense>\n            )}\n            {!showSearchResults && drawerType === DrawerType.Packets ? (\n                <Suspense>\n                    <PacketView showTime={true} />\n                </Suspense>\n            ) : drawerType === DrawerType.Dom ? (\n                <>\n                    <ConnectAlert closeable={true} />\n                    <Suspense>\n                        <JDomTreeView />\n                    </Suspense>\n                </>\n            ) : undefined}\n        </Drawer>\n    )\n}\n"],"names":["arrayConcatMany","fromHex","Packet","TracePlayer","Trace","META_TRACE","parseTrace","contents","description","packets","split","forEach","ln","m","exec","test","lastPacket","length","trace","meta","push","timestamp","parseInt","data","fromBinary","join","trim","undefined","parseLogicLog","logcontents","res","frameBytes","lastTime","tm","parseFloat","Uint8Array","info","replayLogicLog","bus","frames","speed","map","frame","fromFrame","player","clear","start","Box","createStyles","makeStyles","Alert","React","useContext","serviceSpecificationFromClassIdentifier","JacdacContext","ConnectButton","NoSsr","useChange","useStyles","theme","button","marginLeft","spacing","NoSsrConnectAlert","props","classes","serviceClass","closeable","transports","devices","b","ignoreSelf","spec","name","transport","type","ConnectAlert","useState","lazy","PacketsContext","AppContext","Suspense","ImportButton","TraceImportButton","icon","disabled","recording","setReplayTrace","setError","importing","setImporting","handleFiles","files","file","txt","text","e","console","log","SaveIcon","ServiceManagerContext","IconButtonWithTooltip","TraceSaveButton","replayTrace","tracing","fileStorage","savedTrace","saveTrace","serializeToText","saveText","FiberManualRecord","IconButtonWithProgress","TraceRecordButton","others","toggleRecording","title","color","Typography","ClearIcon","TracePlayButton","ReplayIcon","PauseIcon","LiveTvIcon","TraceClearButton","PacketRecorder","clearPackets","clearBus","paused","setPaused","Drawer","Divider","IconButton","DRAWER_WIDTH","MOBILE_BREAKPOINT","TOC_DRAWER_WIDTH","ChevronLeftIcon","DrawerType","DrawerToolsButtonGroup","Toc","PacketView","JDomTreeView","DrawerSearchResults","DrawerSearchInput","drawer","width","flexShrink","breakpoints","down","drawerPaper","tocDrawer","tocDrawerPaper","drawerHeader","display","alignItems","padding","mixins","toolbar","justifyContent","alertButton","mdx","margin","fluid","flex","AppDrawer","pagePath","drawerType","setDrawerType","searchQuery","open","None","showSearchResults","handleDrawerClose","toc","paper","Packets","Dom"],"sourceRoot":""}
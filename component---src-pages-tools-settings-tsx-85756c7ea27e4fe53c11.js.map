{"version":3,"file":"component---src-pages-tools-settings-tsx-85756c7ea27e4fe53c11.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/Add.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Delete.js","webpack://jacdac-docs/./jacdac-ts/src/jdom/clients/settingsclient.ts","webpack://jacdac-docs/./src/components/alert/ConnectAlert.tsx","webpack://jacdac-docs/./src/components/hooks/useServices.ts","webpack://jacdac-docs/./src/components/ui/SwitchWithLabel.tsx","webpack://jacdac-docs/./src/components/useServiceClient.ts","webpack://jacdac-docs/./src/components/SettingsCard.tsx","webpack://jacdac-docs/./src/pages/tools/settings.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import { CHANGE, SettingsCmd } from \"../constants\"\nimport { jdpack, jdunpack } from \"../pack\"\nimport Packet from \"../packet\"\nimport { InPipeReader } from \"../pipes\"\nimport JDService from \"../service\"\nimport { JDServiceClient } from \"../serviceclient\"\nimport { bufferToString, stringToBuffer } from \"../utils\"\n\n/**\n * A settings service client implementation.\n * @category Clients\n */\nexport class SettingsClient extends JDServiceClient {\n    constructor(service: JDService) {\n        super(service)\n        service.registersUseAcks = true\n    }\n\n    async clear() {\n        await this.service.sendCmdAsync(SettingsCmd.Clear)\n    }\n\n    async listKeys(): Promise<string[]> {\n        const inp = new InPipeReader(this.bus)\n        await this.service.sendPacketAsync(\n            inp.openCommand(SettingsCmd.ListKeys),\n            true\n        )\n        const { output } = await inp.readAll()\n        const keys = output.map(pkt => pkt.stringData)\n        return keys.filter(k => !!k)\n    }\n\n    async list(): Promise<{ key: string; value?: Uint8Array }[]> {\n        const inp = new InPipeReader(this.bus)\n        await this.service.sendPacketAsync(\n            inp.openCommand(SettingsCmd.List),\n            true\n        )\n        const { output } = await inp.readAll()\n        return output\n            .map(pkt => {\n                const [key, value] = pkt.jdunpack<[string, Uint8Array]>(\"z b\")\n                return key && { key, value }\n            })\n            .filter(kv => !!kv)\n    }\n\n    async setValue(key: string, value: Uint8Array) {\n        key = key.trim()\n        if (value === undefined) {\n            await this.deleteValue(key)\n        } else {\n            const pkt = Packet.from(\n                SettingsCmd.Set,\n                jdpack(\"z b\", [key, value])\n            )\n            await this.service.sendPacketAsync(pkt)\n            this.emit(CHANGE)\n        }\n    }\n\n    async setStringValue(key: string, value: string) {\n        await this.setValue(key, value ? stringToBuffer(value) : undefined)\n    }\n\n    async getValue(key: string): Promise<Uint8Array> {\n        if (!key) return undefined\n\n        key = key.trim()\n        const pkt = Packet.from(SettingsCmd.Get, jdpack(\"s\", [key]))\n        const resp = await this.service.sendCmdAwaitResponseAsync(pkt)\n        const [rkey, value] = jdunpack<[string, Uint8Array]>(resp.data, \"z b\")\n        if (key !== rkey) {\n            console.error(\n                `device returned different key, got \"${rkey}\", expected \"${key}\"`\n            )\n            return undefined\n        }\n        return value\n    }\n\n    async getStringValue(key: string) {\n        const value = await this.getValue(key)\n        return value && bufferToString(value)\n    }\n\n    async deleteValue(key: string) {\n        if (!key) return\n        key = key.trim()\n        const pkt = Packet.from(SettingsCmd.Delete, jdpack(\"s\", [key]))\n        await this.service.sendPacketAsync(pkt)\n\n        this.emit(CHANGE)\n    }\n}\nexport default SettingsClient\n","// tslint:disable-next-line: no-submodule-imports\nimport { Box, createStyles, makeStyles } from \"@material-ui/core\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React, { useContext } from \"react\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport ConnectButton from \"../buttons/ConnectButton\"\nimport { NoSsr } from \"@material-ui/core\"\nimport useChange from \"../../jacdac/useChange\"\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        button: {\n            marginLeft: theme.spacing(2),\n        },\n    })\n)\n\nfunction NoSsrConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    const classes = useStyles()\n    const { serviceClass, closeable } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { transports } = bus\n    const devices = useChange(bus, b =>\n        b.devices({ serviceClass, ignoreSelf: true })\n    )\n    const spec = serviceSpecificationFromClassIdentifier(serviceClass)\n\n    // don't show if no transport, some devices\n    if (!transports.length || devices?.length) return null\n\n    return (\n        <Box displayPrint=\"none\">\n            <Alert severity=\"info\" closeable={closeable}>\n                {!spec && <span>Did you connect your device?</span>}\n                {spec && <span>Did you connect a {spec.name} device?</span>}\n                {transports.map(transport => (\n                    <ConnectButton\n                        key={transport.type}\n                        transport={transport}\n                        className={classes.button}\n                        full={true}\n                        transparent={true}\n                    />\n                ))}\n            </Alert>\n        </Box>\n    )\n}\n\nexport default function ConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    return (\n        <NoSsr>\n            <NoSsrConnectAlert {...props} />\n        </NoSsr>\n    )\n}\n","import { useContext } from \"react\"\nimport DeviceFilter from \"../../../jacdac-ts/src/jdom/filters/devicefilter\"\nimport ServiceFilter from \"../../../jacdac-ts/src/jdom/filters/servicefilter\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport useChange from \"../../jacdac/useChange\"\n\nexport default function useServices(options?: ServiceFilter & DeviceFilter) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const services = useChange(bus, _ => _?.services(options) || [], [\n        JSON.stringify(options),\n    ])\n    return services\n}\n","import { FormControlLabel, Switch, SwitchProps } from \"@material-ui/core\"\nimport React, { ReactNode } from \"react\"\n\nexport default function SwitchWithLabel(\n    props: { label: ReactNode } & SwitchProps\n) {\n    const { label, ...rest } = props\n    return <FormControlLabel control={<Switch {...rest} />} label={label} />\n}\n","import { useEffect, useState } from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport { JDServiceClient } from \"../../jacdac-ts/src/jdom/serviceclient\"\n\nexport default function useServiceClient<T extends JDServiceClient>(\n    service: JDService,\n    factory: (service: JDService) => T,\n    deps: React.DependencyList = []\n) {\n    const [client, setClient] = useState<T>(undefined)\n\n    useEffect(() => {\n        const c = service && factory(service)\n        setClient(c)\n        return () => c?.unmount()\n    }, [service, ...deps]) // don't use factory in cache!\n\n    return client\n}\n","import {\n    Card,\n    CardActions,\n    CardContent,\n    Grid,\n    TextField,\n} from \"@material-ui/core\"\nimport React, { ChangeEvent, useState } from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport DeviceCardHeader from \"./DeviceCardHeader\"\nimport useServiceClient from \"./useServiceClient\"\nimport SettingsClient from \"../../jacdac-ts/src/jdom/clients/settingsclient\"\nimport { useChangeAsync } from \"../jacdac/useChange\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport DeleteIcon from \"@material-ui/icons/Delete\"\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport AddIcon from \"@material-ui/icons/Add\"\nimport CmdButton from \"./CmdButton\"\nimport { useId } from \"react-use-id-hook\"\nimport LoadingProgress from \"./ui/LoadingProgress\"\nimport SwitchWithLabel from \"./ui/SwitchWithLabel\"\nimport { bufferToString } from \"../../jacdac-ts/src/jdom/utils\"\n\nfunction SettingRow(props: {\n    client: SettingsClient\n    name: string\n    value?: string\n    mutable?: boolean\n}) {\n    const { client, name, value, mutable } = props\n    const isSecret = name[0] == \"$\"\n    const displayName = isSecret ? name.slice(1) : name\n    const handleComponentDelete = async () => {\n        await client.deleteValue(name)\n    }\n    const keyId = useId()\n    const valueId = useId()\n    const nameError = \"\"\n    const valueError = \"\"\n    return (\n        <Grid item xs={12}>\n            <Grid container spacing={1}>\n                <Grid item>\n                    <TextField\n                        id={keyId}\n                        error={!!nameError}\n                        variant=\"outlined\"\n                        label=\"key\"\n                        helperText={nameError}\n                        value={displayName}\n                        disabled={true}\n                    />\n                </Grid>\n                <Grid item xs>\n                    <TextField\n                        id={valueId}\n                        fullWidth={true}\n                        error={!!valueError}\n                        variant=\"outlined\"\n                        helperText={valueError}\n                        value={isSecret ? \"...\" : value}\n                        disabled={true}\n                    />\n                </Grid>\n                {mutable && (\n                    <Grid item>\n                        <CmdButton\n                            trackName=\"settings.delete\"\n                            title=\"Delete settings\"\n                            onClick={handleComponentDelete}\n                            icon={<DeleteIcon />}\n                        />\n                    </Grid>\n                )}\n            </Grid>\n        </Grid>\n    )\n}\n\nfunction AddSettingRow(props: { client: SettingsClient }) {\n    const { client } = props\n    const [name, setName] = useState(\"\")\n    const [value, setValue] = useState(\"\")\n    const [secret, setSecret] = useState(true)\n    const keyId = useId()\n    const valueId = useId()\n\n    const handleNameChange = (ev: ChangeEvent<HTMLInputElement>) => {\n        setName(ev.target.value.trim())\n    }\n    const handleValueChange = (ev: ChangeEvent<HTMLInputElement>) => {\n        setValue(ev.target.value)\n    }\n    const handleChecked = (ev, checked: boolean) => {\n        setSecret(checked)\n    }\n    const handleAdd = async () => {\n        await client.setStringValue(`${secret ? \"$\" : \"\"}${name}`, value)\n        setName(\"\")\n        setValue(\"\")\n        setSecret(true)\n    }\n    const keyError = \"\"\n    const valueError = \"\"\n\n    return (\n        <Grid item xs={12}>\n            <Grid container spacing={1} alignContent=\"center\">\n                <Grid item>\n                    <TextField\n                        id={keyId}\n                        error={!!keyError}\n                        variant=\"outlined\"\n                        label=\"Add key\"\n                        helperText={keyError}\n                        value={name}\n                        onChange={handleNameChange}\n                    />\n                </Grid>\n                <Grid item xs>\n                    <TextField\n                        id={valueId}\n                        fullWidth={true}\n                        error={!!valueError}\n                        variant=\"outlined\"\n                        label=\"value\"\n                        helperText={valueError}\n                        value={value}\n                        onChange={handleValueChange}\n                    />\n                </Grid>\n                <Grid item>\n                    <SwitchWithLabel\n                        checked={secret}\n                        onChange={handleChecked}\n                        label=\"Secret\"\n                    />\n                </Grid>\n                <Grid item>\n                    <CmdButton\n                        trackName=\"settings.add\"\n                        variant=\"contained\"\n                        disabled={!name || !!keyError || !!valueError}\n                        title=\"Add setting\"\n                        onClick={handleAdd}\n                        icon={<AddIcon />}\n                    />\n                </Grid>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default function SettingsCard(props: {\n    service: JDService\n    mutable?: boolean\n}) {\n    const { service, mutable } = props\n    const client = useServiceClient(service, srv => new SettingsClient(srv))\n    const values = useChangeAsync(client, c => c?.list())\n    const handleClear = async () => await client?.clear()\n\n    const secrets = values?.filter(value => value.key[0] === \"$\")\n    const publics = values?.filter(value => value.key[0] !== \"$\")\n\n    if (!client) return <LoadingProgress /> // wait till loaded\n\n    return (\n        <Card>\n            <DeviceCardHeader device={service.device} showAvatar={true} />\n            <CardContent>\n                <Grid container spacing={2}>\n                    {mutable && <AddSettingRow client={client} key=\"add\" />}\n                    {!!publics?.length && (\n                        <Grid item xs={12}>\n                            Settings\n                        </Grid>\n                    )}\n                    {publics?.map(({ key, value }) => (\n                        <SettingRow\n                            key={key}\n                            name={key}\n                            value={bufferToString(value)}\n                            client={client}\n                            mutable={mutable}\n                        />\n                    ))}\n                    {!!secrets?.length && (\n                        <Grid item xs={12}>\n                            Secrets\n                        </Grid>\n                    )}\n                    {secrets?.map(({ key, value }) => (\n                        <SettingRow\n                            key={key}\n                            name={key}\n                            value={bufferToString(value)}\n                            client={client}\n                            mutable={mutable}\n                        />\n                    ))}\n                </Grid>\n            </CardContent>\n            {mutable && (\n                <CardActions>\n                    <CmdButton\n                        trackName=\"settings.clearall\"\n                        title=\"Clear all settings\"\n                        icon={<DeleteIcon />}\n                        onClick={handleClear}\n                    >\n                        Clear\n                    </CmdButton>\n                </CardActions>\n            )}\n        </Card>\n    )\n}\n","import React from \"react\"\nimport { Link } from \"gatsby-theme-material-ui\"\nimport { Grid } from \"@material-ui/core\"\nimport { SRV_SETTINGS } from \"../../../jacdac-ts/src/jdom/constants\"\nimport ConnectAlert from \"../../components/alert/ConnectAlert\"\nimport SettingsCard from \"../../components/SettingsCard\"\nimport useServices from \"../../components/hooks/useServices\"\nimport useServiceProviderFromServiceClass from \"../../components/hooks/useServiceProviderFromServiceClass\"\n\nexport default function Page() {\n    // spin up provider on demand\n    useServiceProviderFromServiceClass(SRV_SETTINGS)\n    const services = useServices({ serviceClass: SRV_SETTINGS })\n\n    return (\n        <>\n            <h1>Device Settings</h1>\n            <p>\n                Configure settings in a{\" \"}\n                <Link to=\"/services/settings/\">settings</Link> service.\n            </p>\n            <ConnectAlert serviceClass={SRV_SETTINGS} />\n            <Grid container spacing={2}>\n                {services.map(service => (\n                    <Grid key={service.id} item xs={12} lg={6}>\n                        <SettingsCard service={service} mutable={true} />\n                    </Grid>\n                ))}\n            </Grid>\n        </>\n    )\n}\n"],"names":["CHANGE","SettingsCmd","jdpack","jdunpack","Packet","InPipeReader","JDServiceClient","bufferToString","stringToBuffer","SettingsClient","service","registersUseAcks","clear","sendCmdAsync","Clear","listKeys","inp","bus","sendPacketAsync","openCommand","ListKeys","output","readAll","keys","map","pkt","stringData","filter","k","list","List","key","value","kv","setValue","trim","undefined","deleteValue","from","Set","emit","setStringValue","getValue","Get","resp","sendCmdAwaitResponseAsync","rkey","data","console","error","getStringValue","Delete","Box","createStyles","makeStyles","Alert","React","useContext","serviceSpecificationFromClassIdentifier","JacdacContext","ConnectButton","NoSsr","useChange","useStyles","theme","button","marginLeft","spacing","NoSsrConnectAlert","props","classes","serviceClass","closeable","transports","devices","b","ignoreSelf","spec","length","name","transport","type","ConnectAlert","useServices","options","services","_","JSON","stringify","FormControlLabel","Switch","SwitchWithLabel","label","rest","useEffect","useState","useServiceClient","factory","deps","client","setClient","c","unmount","Card","CardActions","CardContent","Grid","TextField","DeviceCardHeader","useChangeAsync","DeleteIcon","AddIcon","CmdButton","useId","LoadingProgress","SettingRow","mutable","isSecret","displayName","slice","handleComponentDelete","keyId","valueId","nameError","valueError","AddSettingRow","setName","secret","setSecret","handleNameChange","ev","target","handleValueChange","handleChecked","checked","handleAdd","keyError","SettingsCard","srv","values","handleClear","secrets","publics","device","Link","SRV_SETTINGS","useServiceProviderFromServiceClass","Page","id"],"sourceRoot":""}
{"version":3,"file":"de590f55fa2f17e49ed8680dc5a022fe834f3017-c05477c0eb385eda1693.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/Category.js","webpack://jacdac-docs/./src/components/ServiceButton.tsx","webpack://jacdac-docs/./src/components/DeviceCard.tsx","webpack://jacdac-docs/./src/components/IDChip.tsx","webpack://jacdac-docs/./src/components/KindChip.tsx","webpack://jacdac-docs/./src/components/ui/AutoGrid.tsx","webpack://jacdac-docs/./src/components/ServiceRegisters.tsx","webpack://jacdac-docs/./src/components/EventInput.tsx","webpack://jacdac-docs/./src/components/ServiceEvents.tsx","webpack://jacdac-docs/./jacdac-ts/src/jdom/command.ts","webpack://jacdac-docs/./src/components/CommandInput.tsx","webpack://jacdac-docs/./src/components/DecodedPacketItem.tsx","webpack://jacdac-docs/./src/components/ServiceCard.tsx","webpack://jacdac-docs/./src/components/DeviceList.tsx","webpack://jacdac-docs/./src/components/PacketMembersChip.tsx","webpack://jacdac-docs/./src/components/PacketSpecification.tsx","webpack://jacdac-docs/./src/components/ServiceSpecificationStatusAlert.tsx","webpack://jacdac-docs/./src/components/useGridBreakpoints.ts","webpack://jacdac-docs/./src/jacdac/useEventCount.ts"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2l-5.5 9h11z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"17.5\",\n  cy: \"17.5\",\n  r: \"4.5\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 13.5h8v8H3z\"\n})), 'Category');\n\nexports.default = _default;","import { ButtonProps } from \"@material-ui/core\"\nimport { Button } from \"gatsby-theme-material-ui\"\nimport React from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\n\nexport default function ServiceButton(\n    props: { service: JDService; onClick?: () => void } & ButtonProps\n) {\n    const { service, onClick, ...others } = props\n    return (\n        <Button\n            {...others}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={onClick}\n        >\n            {service.name}\n        </Button>\n    )\n}\n","import React, { ReactNode } from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles } from \"@material-ui/core/styles\"\n// tslint:disable-next-line: no-submodule-imports\nimport Card from \"@material-ui/core/Card\"\n// tslint:disable-next-line: no-submodule-imports\nimport CardContent from \"@material-ui/core/CardContent\"\nimport JDDevice from \"../../jacdac-ts/src/jdom/device\"\nimport {\n    SRV_CONTROL,\n    SRV_LOGGER,\n    ControlReg,\n} from \"../../jacdac-ts/src/jdom/constants\"\nimport ServiceButton from \"./ServiceButton\"\nimport useChange from \"../jacdac/useChange\"\nimport { navigate } from \"gatsby\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport { CardActions, createStyles } from \"@material-ui/core\"\nimport DeviceCardHeader from \"./DeviceCardHeader\"\nimport { useRegisterUnpackedValue } from \"../jacdac/useRegisterValue\"\nimport { DeviceLostAlert } from \"./alert/DeviceLostAlert\"\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        root: {},\n        bullet: {\n            display: \"inline-block\",\n            margin: \"0 2px\",\n            transform: \"scale(0.8)\",\n        },\n        title: {\n            fontSize: 14,\n        },\n        pos: {\n            marginBottom: 12,\n        },\n    })\n)\n\nfunction navigateToService(service: JDService) {\n    const spec = service.specification\n    if (spec) navigate(`/services/${spec.shortId}/`) // todo spec\n}\n\nfunction DeviceDescription(props: { device: JDDevice }) {\n    const { device } = props\n    const register = useChange(device, _ =>\n        _?.service(0)?.register(ControlReg.DeviceDescription)\n    )\n    const [description] = useRegisterUnpackedValue<[string]>(register)\n    return <span>{description || \"\"}</span>\n}\n\nexport default function DeviceCard(props: {\n    device: JDDevice\n    children?: ReactNode\n    action?: ReactNode\n    content?: ReactNode\n    showDeviceId?: boolean\n    showServices?: boolean\n    showTemperature?: boolean\n    showFirmware?: boolean\n    showDescription?: boolean\n}) {\n    const {\n        device,\n        children,\n        action,\n        content,\n        showDeviceId,\n        showDescription,\n        showTemperature,\n        showFirmware,\n        showServices,\n    } = props\n    const classes = useStyles()\n    const services = useChange(device, () =>\n        device\n            .services()\n            .filter(\n                service =>\n                    service.serviceClass != SRV_CONTROL &&\n                    service.serviceClass != SRV_LOGGER\n            )\n    )\n\n    return (\n        <Card className={classes.root}>\n            <DeviceCardHeader\n                device={device}\n                showDeviceId={showDeviceId}\n                showTemperature={showTemperature}\n                showFirmware={showFirmware}\n                showMedia={true}\n            />\n            {(showDescription || content) && (\n                <CardContent>\n                    {<DeviceLostAlert device={device} />}\n                    {showDescription && <DeviceDescription device={device} />}\n                    {content}\n                </CardContent>\n            )}\n            <CardActions>\n                {action}\n                {showServices &&\n                    services?.map(service => (\n                        <ServiceButton\n                            key={service.id}\n                            service={service}\n                            onClick={() => navigateToService(service)}\n                        />\n                    ))}\n            </CardActions>\n            {children}\n        </Card>\n    )\n}\n","import React, { useContext } from \"react\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport FingerprintIcon from '@material-ui/icons/Fingerprint';\nimport { Chip, IconButton } from '@material-ui/core';\nimport PacketsContext from \"./PacketsContext\";\nimport AppContext, { DrawerType } from \"./AppContext\";\nimport Tooltip from \"./ui/Tooltip\";\n\nexport default function IDChip(props: { id: number | string, className?: string, filter?: string }) {\n    const { id, className, filter } = props\n    const { filter: packetFilter, setFilter: setPacketFilter } = useContext(PacketsContext);\n    const { setDrawerType } = useContext(AppContext)\n\n    const ids = typeof id === \"string\" ? id : `0x${id !== undefined ? (id as number).toString(16) : \"???\"}`\n    const filtered = packetFilter && packetFilter.indexOf(filter) > -1\n    const handleFilterClick = () => {\n        if (filtered)\n            setPacketFilter(packetFilter?.replace(filter, '')?.trim())\n        else\n            setPacketFilter(packetFilter?.trim() + ' ' + filter)\n        setDrawerType(DrawerType.Packets)\n    }\n    const icon = <FingerprintIcon />;\n    const title = filtered ? `remove filter ${filter}` : `add filter ${filter}`;\n    if (filter)\n        return <Tooltip title={filtered ? `remove filter ${filter}` : `add filter ${filter}`}>\n            <span>\n                <Chip className={className} size=\"small\" icon={\n                    <IconButton aria-label={title} onClick={handleFilterClick}>\n                        {icon}\n                    </IconButton>\n                } label={ids} />\n            </span>\n        </Tooltip>\n    else\n        return <Chip aria-label={title} className={className} size=\"small\" icon={icon} title={`identifier ${ids}`} label={ids} />;\n}","import React, { useContext } from \"react\"\nimport { Chip } from \"@material-ui/core\";\nimport KindIcon, { kindName } from \"./KindIcon\";\nimport PacketsContext from \"./PacketsContext\"\nimport AppContext, { DrawerType } from \"./AppContext\"\nimport Tooltip from \"./ui/Tooltip\";\n\nexport default function KindChip(props: { kind: string, className?: string }) {\n    const { kind, className } = props;\n    const { filter, setFilter } = useContext(PacketsContext);\n    const { setDrawerType } = useContext(AppContext)\n    const icon = KindIcon({ kind })\n    const chipFilter = `kind:${kind}`\n    const filtered = filter && filter.indexOf(chipFilter) > -1\n    const handleClick = () => {\n        if (filtered)\n            setFilter(filter?.replace(chipFilter, '')?.trim())\n        else\n            setFilter(filter?.trim() + ' ' + chipFilter)\n        setDrawerType(DrawerType.Packets)\n    }\n    return <Tooltip title={filtered ? `remove filter ${chipFilter}` : `add filter ${chipFilter}`}>\n        <span>\n            <Chip onClick={handleClick} className={className} size=\"small\" label={kindName(kind)} icon={icon} />\n        </span>\n    </Tooltip>\n\n}","import { Grid, GridSpacing } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function AutoGrid(props: { children: JSX.Element | JSX.Element[], spacing?: GridSpacing }) {\n    const { children, spacing } = props;\n    if (children && Array.isArray(children))\n        return <Grid container spacing={spacing}>\n            {(children as JSX.Element[]).map((child, i) => <Grid item xs={12} key={child.key || i}>\n                {child}\n            </Grid>)}\n        </Grid>\n    else\n        return children as JSX.Element;\n}","import React, { useMemo } from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport { isRegister } from \"../../jacdac-ts/src/jdom/spec\"\nimport RegisterInput from \"./RegisterInput\"\nimport useChange from \"../jacdac/useChange\"\nimport AutoGrid from \"./ui/AutoGrid\"\nimport JDRegister from \"../../jacdac-ts/src/jdom/register\"\nimport { SystemReg } from \"../../jacdac-ts/src/jdom/constants\"\n\nexport default function ServiceRegisters(props: {\n    service: JDService\n    registerIdentifiers?: number[]\n    filter?: (register: JDRegister) => boolean\n    showRegisterName?: boolean\n    hideMissingValues?: boolean\n    showTrends?: boolean\n}) {\n    const {\n        service,\n        registerIdentifiers,\n        filter,\n        showRegisterName,\n        hideMissingValues,\n        showTrends,\n    } = props\n    const specification = useChange(service, spec => spec.specification)\n    const registers = useMemo(() => {\n        const packets = specification?.packets\n        const ids =\n            registerIdentifiers ||\n            packets?.filter(pkt => isRegister(pkt))?.map(pkt => pkt.identifier)\n        let r = ids?.map(id => service.register(id))?.filter(reg => !!reg) || []\n        if (filter) r = r.filter(filter)\n        return r\n    }, [specification, registerIdentifiers, filter])\n\n    return (\n        <AutoGrid spacing={1}>\n            {registers.map(register => (\n                <RegisterInput\n                    key={register.id}\n                    register={register}\n                    showRegisterName={showRegisterName}\n                    hideMissingValues={hideMissingValues}\n                    showTrend={\n                        showTrends && register.code === SystemReg.Reading\n                    }\n                    visible={true}\n                />\n            ))}\n        </AutoGrid>\n    )\n}\n","import React from \"react\"\nimport JDEvent from \"../../jacdac-ts/src/jdom/event\"\nimport { Typography, Badge } from \"@material-ui/core\"\nimport KindIcon from \"./KindIcon\"\nimport useEventCount from \"../jacdac/useEventCount\"\nimport DeviceName from \"./devices/DeviceName\"\n\nexport default function EventInput(props: {\n    event: JDEvent\n    showDeviceName?: boolean\n    showName?: boolean\n}) {\n    const { event, showName, showDeviceName } = props\n    const count = useEventCount(event)\n    const spec = event.specification\n\n    return (\n        <>\n            {showDeviceName && (\n                <Typography>\n                    <DeviceName device={event.service.device} />/\n                </Typography>\n            )}\n            {showName && spec && (\n                <Typography gutterBottom>{spec.name}</Typography>\n            )}\n            <Badge badgeContent={count} color=\"primary\">\n                <KindIcon kind={\"event\"} />\n            </Badge>\n        </>\n    )\n}\n","import React from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport { isEvent } from \"../../jacdac-ts/src/jdom/spec\"\nimport EventInput from \"./EventInput\"\nimport AutoGrid from \"./ui/AutoGrid\"\n\nexport default function ServiceEvents(props: {\n    service: JDService\n    eventIdentifiers?: number[]\n    showEventName?: boolean\n}) {\n    const { service, eventIdentifiers, showEventName } = props\n    const spec = service.specification\n    const packets = spec.packets\n    let events = packets.filter(isEvent)\n    if (eventIdentifiers !== undefined)\n        events = events.filter(\n            event => eventIdentifiers.indexOf(event.identifier) > -1\n        )\n\n    return (\n        <AutoGrid spacing={1}>\n            {events.map(event => (\n                <EventInput\n                    key={`event${event.identifier}`}\n                    event={service.event(event.identifier)}\n                    showName={showEventName}\n                />\n            ))}\n        </AutoGrid>\n    )\n}\n","import { setNumber, sizeOfNumberFormat } from \"./buffer\"\nimport { CMD_SET_REG, JD_SERIAL_MAX_PAYLOAD_SIZE } from \"./constants\"\nimport { PackedValues } from \"./pack\"\nimport Packet from \"./packet\"\nimport {\n    clampToStorage,\n    isRegister,\n    numberFormatFromStorageType,\n    scaleFloatToInt,\n} from \"./spec\"\nimport { stringToUint8Array, toUTF8 } from \"./utils\"\n\n/**\n * @internal\n */\nexport function packArguments(info: jdspec.PacketInfo, args: PackedValues) {\n    let repeatIdx = -1\n    let numReps = 0\n    let argIdx = 0\n    let dst = 0\n\n    const buf = new Uint8Array(256)\n\n    for (let i = 0; i < info.fields.length; ++argIdx, ++i) {\n        if (argIdx >= args.length && numReps > 0) break\n        const arg0 = argIdx < args.length ? args[argIdx] : 0\n        const fld = info.fields[i]\n\n        if (repeatIdx == -1 && fld.startRepeats) repeatIdx = i\n\n        const arg1 =\n            fld.type == \"string0\" && typeof arg0 == \"string\"\n                ? arg0 + \"\\u0000\"\n                : arg0\n\n        const arg =\n            typeof arg1 == \"boolean\"\n                ? arg1\n                    ? 1\n                    : 0\n                : typeof arg1 == \"string\"\n                ? stringToUint8Array(toUTF8(arg1))\n                : arg1\n\n        if (typeof arg == \"number\") {\n            const intVal = scaleFloatToInt(arg, fld)\n            if (fld.storage == 0)\n                throw new Error(`expecting ${fld.type} got number`)\n\n            const fmt = numberFormatFromStorageType(fld.storage)\n            setNumber(buf, fmt, dst, clampToStorage(intVal, fld.storage))\n            dst += sizeOfNumberFormat(fmt)\n        } else {\n            let size = Math.abs(fld.storage)\n            if (typeof arg1 == \"string\") {\n                if (size == 0) size = arg.length\n                const argCut = arg.slice(0, size)\n                buf.set(argCut, dst)\n                dst += size\n            } else if (size == 0 || size == arg.length) {\n                buf.set(arg, dst)\n                dst += arg.length\n            } else {\n                throw new Error(\n                    `expecting ${Math.abs(fld.storage)} bytes; got ${\n                        arg.length\n                    }`\n                )\n            }\n        }\n\n        if (dst >= JD_SERIAL_MAX_PAYLOAD_SIZE)\n            throw new Error(\n                `jacdac packet length too large, ${dst} > ${JD_SERIAL_MAX_PAYLOAD_SIZE} bytes`\n            )\n\n        if (repeatIdx != -1 && i + 1 >= info.fields.length) {\n            i = repeatIdx - 1\n            numReps++\n        }\n    }\n\n    const cmd = isRegister(info)\n        ? info.identifier | CMD_SET_REG\n        : info.identifier\n    const pkt = Packet.from(cmd, buf.slice(0, dst))\n    if (info.kind != \"report\") pkt.isCommand = true\n    return pkt\n}\n","import React, { useContext } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { InPipeReader } from \"../../jacdac-ts/src/jdom/pipes\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\nimport DeviceName from \"./devices/DeviceName\"\nimport { isReportOf } from \"../../jacdac-ts/src/jdom/spec\"\nimport { packArguments } from \"../../jacdac-ts/src/jdom/command\"\nimport {\n    DecodedPacket,\n    printPacket,\n    serviceName,\n} from \"../../jacdac-ts/src/jdom/pretty\"\nimport Packet from \"../../jacdac-ts/src/jdom/packet\"\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\"\nimport CmdButton from \"./CmdButton\"\nimport { PackedValues } from \"../../jacdac-ts/src/jdom/pack\"\n\nfunction hasPipeReport(info: jdspec.PacketInfo) {\n    return info.fields.find(f => f.type == \"pipe\")\n}\n\nexport default function CommandInput(props: {\n    service: JDService\n    command: jdspec.PacketInfo\n    showDeviceName?: boolean\n    args?: PackedValues\n    setReports?: (reports: DecodedPacket[]) => void\n}) {\n    const { service, command, showDeviceName, args, setReports } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n\n    const { specification } = service\n    const requiredArgLength =\n        command.fields.length - (hasPipeReport(command) ? 1 : 0)\n    const missingArguments = (args?.length || 0) !== requiredArgLength\n    const disabled = missingArguments\n    const reportSpec =\n        command.hasReport &&\n        specification.packets.find(p => isReportOf(command, p))\n    const handleClick = async () => {\n        const pkt = !args?.length\n            ? Packet.onlyHeader(command.identifier)\n            : packArguments(command, args)\n        if (setReports && reportSpec) {\n            const reportPacket = await service.sendCmdAwaitResponseAsync(pkt)\n            const decoded = reportPacket?.decoded\n            setReports([decoded])\n        } else if (setReports && hasPipeReport(command)) {\n            let inp: InPipeReader\n            try {\n                inp = new InPipeReader(bus)\n                const cmd = inp.openCommand(command.identifier)\n                await service.sendPacketAsync(cmd, true)\n                console.log(printPacket(cmd)) // keep this call, it sets up pretty to understand packages\n                const { output } = await inp.readAll()\n                const reports = output\n                    .filter(ot => !!ot.data?.length)\n                    .map(ot => ot?.decoded)\n                setReports(reports)\n            } finally {\n                inp?.unmount()\n            }\n        } else await service.sendPacketAsync(pkt, true)\n    }\n\n    return (\n        <CmdButton\n            trackName={`command.input`}\n            trackProperties={{\n                service: serviceName(service.serviceClass),\n                serviceClass: service.serviceClass,\n            }}\n            variant=\"contained\"\n            disabled={disabled}\n            onClick={handleClick}\n        >\n            {showDeviceName && (\n                <Typography>\n                    <DeviceName device={service.device} />/\n                </Typography>\n            )}\n            {command.name.replace(/_/g, \" \")}\n        </CmdButton>\n    )\n}\n","import React, { useMemo } from \"react\"\nimport { DecodedPacket } from \"../../jacdac-ts/src/jdom/pretty\";\nimport MembersInput from \"./fields/MembersInput\";\n\nexport default function DecodedPacketItem(props: { pkt: DecodedPacket }) {\n    const { pkt } = props;\n    const { decoded, service } = pkt;\n    const specifications = useMemo(() => decoded.map(d => d.info), [decoded]);\n    const values = useMemo(() => decoded.map(d => d.value), [decoded]);\n    return <MembersInput\n        serviceSpecification={service}\n        specifications={specifications}\n        values={values}\n    />;\n}","import React, { useState } from \"react\"\nimport JDService from \"../../jacdac-ts/src/jdom/service\"\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles } from \"@material-ui/core/styles\"\n// tslint:disable-next-line: no-submodule-imports\nimport Card from \"@material-ui/core/Card\"\n// tslint:disable-next-line: no-submodule-imports\nimport CardContent from \"@material-ui/core/CardContent\"\n// tslint:disable-next-line: no-submodule-imports\nimport Typography from \"@material-ui/core/Typography\"\nimport { Link } from \"gatsby-theme-material-ui\"\nimport ServiceRegisters from \"./ServiceRegisters\"\nimport ServiceEvents from \"./ServiceEvents\"\nimport { isCommand } from \"../../jacdac-ts/src/jdom/spec\"\nimport { CardActions, List, ListItem } from \"@material-ui/core\"\nimport DeviceCardHeader from \"./DeviceCardHeader\"\nimport { DeviceLostAlert } from \"./alert/DeviceLostAlert\"\nimport CommandInput from \"./CommandInput\"\nimport { DecodedPacket } from \"../../jacdac-ts/src/jdom/pretty\"\nimport DecodedPacketItem from \"./DecodedPacketItem\"\nimport ServiceSpecificationStatusAlert from \"./ServiceSpecificationStatusAlert\"\nimport MembersInput from \"./fields/MembersInput\"\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 275,\n    },\n    bullet: {\n        display: \"inline-block\",\n        margin: \"0 2px\",\n        transform: \"scale(0.8)\",\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n})\n\nexport default function ServiceCard(props: {\n    service: JDService\n    linkToService?: boolean\n    showServiceName?: boolean\n    showMemberName?: boolean\n    registerIdentifiers?: number[]\n    eventIdentifiers?: number[]\n    commandIdentifier?: number\n}) {\n    const {\n        service,\n        linkToService,\n        registerIdentifiers,\n        showServiceName,\n        showMemberName,\n        eventIdentifiers,\n        commandIdentifier,\n    } = props\n    const { specification } = service\n    const [reports, setReports] = useState<DecodedPacket[]>(undefined)\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const [commandArgs, setCommandArgs] = useState<any[]>([])\n    const classes = useStyles()\n    const hasCommandIdentifier = commandIdentifier !== undefined\n    const hasRegisterIdentifiers = !!registerIdentifiers?.length\n    const hasEventIdentifiers = !!eventIdentifiers?.length\n    const command =\n        commandIdentifier !== undefined &&\n        specification?.packets.find(\n            pkt => isCommand(pkt) && pkt.identifier === commandIdentifier\n        )\n\n    return (\n        <Card className={classes.root}>\n            <DeviceCardHeader device={service.device} showAvatar={true} />\n            <CardContent>\n                {showServiceName && (\n                    <Typography\n                        className={classes.title}\n                        color=\"textSecondary\"\n                        gutterBottom\n                    >\n                        <Link\n                            to={\n                                linkToService && service.specification\n                                    ? `/services/${service.specification.shortId}/`\n                                    : \"/clients/javascript/jdom/service\"\n                            }\n                        >\n                            {service.name}\n                        </Link>\n                    </Typography>\n                )}\n                <Typography variant=\"body2\" component=\"div\">\n                    {hasRegisterIdentifiers && (\n                        <ServiceRegisters\n                            key={\"reg\" + service.id}\n                            service={service}\n                            showRegisterName={showMemberName}\n                            registerIdentifiers={registerIdentifiers}\n                        />\n                    )}\n                    {hasEventIdentifiers && (\n                        <ServiceEvents\n                            key={\"ev\" + service.id}\n                            service={service}\n                            showEventName={showMemberName}\n                            eventIdentifiers={eventIdentifiers}\n                        />\n                    )}\n                    {command && (\n                        <MembersInput\n                            serviceSpecification={specification}\n                            serviceMemberSpecification={command}\n                            specifications={command.fields}\n                            values={commandArgs}\n                            setValues={setCommandArgs}\n                            showDataType={true}\n                        />\n                    )}\n                    {!!reports?.length && (\n                        <List key={\"reports\"} dense>\n                            {reports?.map((report, ri) => (\n                                <ListItem key={`report${ri}`}>\n                                    <DecodedPacketItem pkt={report} />\n                                </ListItem>\n                            ))}\n                        </List>\n                    )}\n                </Typography>\n                {!hasCommandIdentifier &&\n                    !hasRegisterIdentifiers &&\n                    !hasEventIdentifiers && (\n                        <ServiceSpecificationStatusAlert\n                            specification={specification}\n                        />\n                    )}\n                <DeviceLostAlert device={service?.device} />\n            </CardContent>\n            <CardActions>\n                {command && (\n                    <CommandInput\n                        service={service}\n                        command={command}\n                        args={commandArgs}\n                        setReports={setReports}\n                    />\n                )}\n            </CardActions>\n        </Card>\n    )\n}\n","import React, { useContext } from 'react';\nimport { Grid, makeStyles, Theme, createStyles } from '@material-ui/core';\nimport DeviceCard from './DeviceCard';\nimport ServiceCard from './ServiceCard';\nimport useChange from '../jacdac/useChange';\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\";\nimport useGridBreakpoints from './useGridBreakpoints';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        marginBottom: theme.spacing(1)\n    },\n}))\n\nexport default function DeviceList(props: {\n    serviceClass?: number,\n    linkToService?: boolean,\n    registerIdentifiers?: number[],\n    eventIdentifiers?: number[],\n    commandIdentifier?: number,\n    showServiceName?: boolean,\n    showMemberName?: boolean,\n    showTemperature?: boolean,\n    showFirmware?: boolean,\n    showServiceButtons?: boolean\n}) {\n    const { serviceClass, linkToService, registerIdentifiers,\n        showServiceName, showMemberName, showFirmware, showTemperature,\n        showServiceButtons,\n        eventIdentifiers, commandIdentifier } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const devices = useChange(bus, n => n.devices({ serviceClass }))\n    const services = useChange(bus, n => n.services({ serviceClass }))\n    const classes = useStyles()\n    const hasServiceClass = serviceClass !== undefined\n    const gridBreakpoints = useGridBreakpoints(devices?.length)\n\n    return (\n        <Grid\n            container\n            spacing={2}\n            className={classes.root}\n        >\n            {!hasServiceClass && devices.map(device => <Grid key={device.id} item {...gridBreakpoints}>\n                <DeviceCard\n                    device={device}\n                    showDescription={true}\n                    showTemperature={showTemperature}\n                    showFirmware={showFirmware}\n                    showServices={showServiceButtons}\n                />\n            </Grid>)}\n            {hasServiceClass && services.map(service => {\n                return <Grid key={service.id} item {...gridBreakpoints}>\n                    <ServiceCard service={service}\n                        linkToService={linkToService}\n                        showServiceName={showServiceName}\n                        showMemberName={showMemberName}\n                        registerIdentifiers={registerIdentifiers}\n                        eventIdentifiers={eventIdentifiers}\n                        commandIdentifier={commandIdentifier}\n                    />\n                </Grid>\n            })}\n        </Grid>\n    )\n}\n","import React from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport Chip from \"@material-ui/core/Chip\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport CategoryIcon from \"@material-ui/icons/Category\"\nimport Tooltip from \"./ui/Tooltip\"\n\nexport default function PacketMembersChip(props: {\n    spec: jdspec.PacketInfo\n    members: jdspec.PacketMember[]\n    className?: string\n}) {\n    const { members, className, spec } = props\n    if (!members?.length) return null\n\n    const label = spec?.packFormat\n    const title = \"pack format\"\n    return (\n        <Tooltip title={title}>\n            <Chip\n                style={{ textDecoration: \"none\" }}\n                href=\"/reference/pack-format/\"\n                component=\"a\"\n                clickable\n                className={className}\n                size=\"small\"\n                icon={<CategoryIcon />}\n                label={label}\n            />\n        </Tooltip>\n    )\n}\n","import {\n    isRegister,\n    isEvent,\n    isCommand,\n} from \"../../jacdac-ts/src/jdom/spec\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"./ui/Alert\"\nimport React, { useState } from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport Chip from \"@material-ui/core/Chip\"\nimport DeviceList from \"./DeviceList\"\nimport { makeStyles, createStyles } from \"@material-ui/core\"\nimport IDChip from \"./IDChip\"\nimport KindChip from \"./KindChip\"\nimport PacketMembersChip from \"./PacketMembersChip\"\nimport Markdown from \"./ui/Markdown\"\nimport { prettyMemberUnit } from \"../../jacdac-ts/src/jdom/pretty\"\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        root: {\n            marginBottom: theme.spacing(1),\n        },\n        field: {\n            \"& > div\": { verticalAlign: \"middle\" },\n        },\n        chip: {\n            margin: theme.spacing(0.5),\n        },\n    })\n)\n\nfunction MemberType(props: { member: jdspec.PacketMember }) {\n    const { member } = props\n    const classes = useStyles()\n    const helperText = prettyMemberUnit(member, true)\n\n    return (\n        <>\n            <li className={classes.field}>\n                {member.name !== \"_\" && `${member.name}: `}\n                <code>{helperText}</code>\n            </li>\n        </>\n    )\n}\n\nfunction MembersType(props: {\n    members: jdspec.PacketMember[]\n    title?: string\n}) {\n    const { members, title } = props\n\n    let repeatIndex = members.findIndex(m => !!m.startRepeats)\n    if (repeatIndex < 0) repeatIndex = members.length\n    const beforeRepeat = members.slice(0, repeatIndex)\n    const afterRepeat = members.slice(repeatIndex)\n\n    return (\n        <>\n            {!!title && <h4>{title}</h4>}\n            {!!beforeRepeat.length && (\n                <ul>\n                    {beforeRepeat.map((member, i) => (\n                        <MemberType\n                            key={`member${member.name}`}\n                            member={member}\n                        />\n                    ))}\n                </ul>\n            )}\n            {!!afterRepeat.length && (\n                <>\n                    <h5>starts repeating</h5>\n                    <ul>\n                        {afterRepeat.map((member, i) => (\n                            <MemberType\n                                key={`member${member.name}`}\n                                member={member}\n                            />\n                        ))}\n                    </ul>\n                </>\n            )}\n        </>\n    )\n}\n\nexport default function PacketSpecification(props: {\n    serviceClass: number\n    packetInfo: jdspec.PacketInfo\n    reportInfo?: jdspec.PacketInfo\n    pipeReportInfo?: jdspec.PacketInfo\n    showDevices?: boolean\n}) {\n    const {\n        serviceClass,\n        packetInfo,\n        reportInfo,\n        pipeReportInfo,\n        showDevices,\n    } = props\n    const [args, setArgs] = useState<any[]>([])\n    const classes = useStyles()\n    if (!packetInfo)\n        return (\n            <Alert severity=\"error\">{`Unknown member ${serviceClass.toString(\n                16\n            )}:${packetInfo.identifier}`}</Alert>\n        )\n    const { fields } = packetInfo\n    const isCmd = isCommand(packetInfo)\n\n    return (\n        <div className={classes.root}>\n            <h3 id={`${packetInfo.kind}:${packetInfo.identifier}`}>\n                {packetInfo.name}\n                <PacketMembersChip\n                    spec={packetInfo}\n                    className={classes.chip}\n                    members={packetInfo.fields}\n                />\n                {packetInfo.identifier !== undefined && (\n                    <IDChip\n                        className={classes.chip}\n                        id={packetInfo.identifier}\n                        filter={`pkt:0x${packetInfo.identifier.toString(16)}`}\n                    />\n                )}\n                <KindChip className={classes.chip} kind={packetInfo.kind} />\n                {packetInfo.optional && (\n                    <Chip\n                        className={classes.chip}\n                        size=\"small\"\n                        label=\"optional\"\n                    />\n                )}\n                {packetInfo.derived && (\n                    <Chip\n                        className={classes.chip}\n                        size=\"small\"\n                        label=\"derived\"\n                    />\n                )}\n            </h3>\n            <Markdown source={packetInfo.description} />\n            {!!fields.length && (\n                <MembersType members={fields} title={isCmd && \"Arguments\"} />\n            )}\n            {!!reportInfo && (\n                <MembersType members={reportInfo.fields} title=\"Report\" />\n            )}\n            {!!pipeReportInfo && (\n                <MembersType\n                    members={pipeReportInfo.fields}\n                    title=\"Pipe report\"\n                />\n            )}\n            {showDevices && isCommand(packetInfo) && (\n                <DeviceList\n                    serviceClass={serviceClass}\n                    commandIdentifier={packetInfo.identifier}\n                />\n            )}\n            {showDevices && isRegister(packetInfo) && (\n                <DeviceList\n                    serviceClass={serviceClass}\n                    registerIdentifiers={[packetInfo.identifier]}\n                />\n            )}\n            {showDevices && isEvent(packetInfo) && (\n                <DeviceList\n                    serviceClass={serviceClass}\n                    eventIdentifiers={[packetInfo.identifier]}\n                />\n            )}\n        </div>\n    )\n}\n","import React from \"react\";\nimport Alert from \"./ui/Alert\";\n\nexport function StatusAlert(props: { specification: jdspec.ServiceSpec }) {\n    const { specification } = props;\n\n    switch (specification?.status) {\n        case \"deprecated\": return <Alert severity=\"error\">Deprecated</Alert>\n        case \"experimental\": return <Alert severity=\"info\">Experimental</Alert>\n        default: return null;\n    }\n}\n\nconst ServiceSpecificationStatusAlert = React.memo(StatusAlert);\n\nexport default ServiceSpecificationStatusAlert;","import { GridSize } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport AppContext, { DrawerType } from \"./AppContext\"\n\nexport interface GridBreakpoints {\n    xs?: GridSize,\n    md?: GridSize,\n    sm?: GridSize,\n    lg?: GridSize,\n    xl?: GridSize\n}\n\nexport default function useGridBreakpoints(itemCount?: number): GridBreakpoints {\n    const { drawerType } = useContext(AppContext)\n\n    if (itemCount !== undefined) {\n        switch (itemCount) {\n            case 1:\n            case 2: return { xs: 12, sm: 6, md: 6, lg: 6, xl: 6 }\n            case 3: return { xs: 12, sm: 6, md: 6, lg: 4, xl: 4 }\n        }\n    }\n\n    if (drawerType != DrawerType.None)\n        return { xs: 12, md: 6, sm: 6, lg: 6, xl: 4 }\n    else return {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 4,\n        xl: 3\n    }\n}","import { useState, useEffect } from \"react\"\nimport JDEvent from \"../../jacdac-ts/src/jdom/event\"\nimport { CHANGE } from \"../../jacdac-ts/src/jdom/constants\"\n\nexport default function useEventCount(event: JDEvent) {\n    const [count, setCount] = useState(event?.count || 0)\n    useEffect(() => event?.subscribe(CHANGE, () => {\n        setCount(event.count)\n    }), [event])\n\n    return count;\n}"],"names":["Button","React","ServiceButton","props","service","onClick","others","name","makeStyles","Card","CardContent","SRV_CONTROL","SRV_LOGGER","ControlReg","useChange","navigate","CardActions","createStyles","DeviceCardHeader","useRegisterUnpackedValue","DeviceLostAlert","useStyles","root","bullet","display","margin","transform","title","fontSize","pos","marginBottom","navigateToService","spec","specification","shortId","DeviceDescription","device","register","_","description","DeviceCard","children","action","content","showDeviceId","showDescription","showTemperature","showFirmware","showServices","classes","services","filter","serviceClass","map","id","useContext","FingerprintIcon","Chip","IconButton","PacketsContext","AppContext","DrawerType","Tooltip","IDChip","className","packetFilter","setFilter","setPacketFilter","setDrawerType","ids","undefined","toString","filtered","indexOf","handleFilterClick","replace","trim","Packets","icon","KindIcon","kindName","KindChip","kind","chipFilter","handleClick","Grid","AutoGrid","spacing","Array","isArray","child","i","key","useMemo","isRegister","RegisterInput","SystemReg","ServiceRegisters","registerIdentifiers","showRegisterName","hideMissingValues","showTrends","registers","packets","pkt","identifier","r","reg","code","Reading","Typography","Badge","useEventCount","DeviceName","EventInput","event","showName","showDeviceName","count","isEvent","ServiceEvents","eventIdentifiers","showEventName","events","setNumber","sizeOfNumberFormat","CMD_SET_REG","JD_SERIAL_MAX_PAYLOAD_SIZE","Packet","clampToStorage","numberFormatFromStorageType","scaleFloatToInt","stringToUint8Array","toUTF8","packArguments","info","args","repeatIdx","numReps","argIdx","dst","buf","Uint8Array","fields","length","arg0","fld","startRepeats","arg1","type","arg","intVal","storage","Error","fmt","size","Math","abs","argCut","slice","set","cmd","from","isCommand","InPipeReader","isReportOf","printPacket","serviceName","JacdacContext","CmdButton","hasPipeReport","find","f","CommandInput","command","setReports","bus","requiredArgLength","missingArguments","disabled","reportSpec","hasReport","p","onlyHeader","reportPacket","sendCmdAwaitResponseAsync","decoded","inp","openCommand","sendPacketAsync","console","log","output","readAll","reports","ot","data","unmount","MembersInput","DecodedPacketItem","specifications","d","values","value","useState","Link","List","ListItem","ServiceSpecificationStatusAlert","minWidth","ServiceCard","linkToService","showServiceName","showMemberName","commandIdentifier","commandArgs","setCommandArgs","hasCommandIdentifier","hasRegisterIdentifiers","hasEventIdentifiers","report","ri","useGridBreakpoints","theme","DeviceList","showServiceButtons","devices","n","hasServiceClass","gridBreakpoints","CategoryIcon","PacketMembersChip","members","label","packFormat","textDecoration","Alert","Markdown","prettyMemberUnit","field","verticalAlign","chip","MemberType","member","helperText","MembersType","repeatIndex","findIndex","m","beforeRepeat","afterRepeat","PacketSpecification","packetInfo","reportInfo","pipeReportInfo","showDevices","setArgs","isCmd","optional","derived","StatusAlert","status","memo","itemCount","drawerType","xs","sm","md","lg","xl","None","useEffect","CHANGE","setCount","subscribe"],"sourceRoot":""}
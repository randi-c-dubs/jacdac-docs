{"version":3,"file":"571-7d734edebde6581d3443.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASa,oBAAT,CAA8BC,KAA9B,EAA4D;AACvE,MAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAwBF,KAA9B;AACA,MAAM;AAAEG,IAAAA;AAAF,MAAUb,iDAAU,CAAqBK,6DAArB,CAA1B;AACA,MAAMS,gBAAgB,GAAGN,oEAAW,CAACG,OAAD,EAAUV,sGAAV,CAApC;AACA,MAAMe,QAAQ,GAAGb,wFAAoB,CAACW,gBAAD,EAAmBJ,KAAnB,CAArC;;AACA,MAAMO,aAAa;AAAA,6GAAG,WAAOC,EAAP,EAAWC,OAAX,EAAgC;AAClD,YAAML,gBAAgB,CAACM,gBAAjB,CAAkCD,OAAlC,EAA2C,IAA3C,CAAN;AACH,KAFkB;;AAAA,oBAAbF,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAGA,MAAMI,QAAQ,GAAGnB,kEAAK,EAAtB;AACA,MAAMoB,OAAO,GAAGpB,kEAAK,EAArB;AACA,MAAMqB,WAAW,GAAGjB,mEAAS,CAACO,GAAD,EAAMW,CAAC,IAAIA,CAAC,CAACD,WAAb,CAA7B;AACA,MAAME,KAAK,GAAGnB,mEAAS,CAACiB,WAAD,EAAcC,CAAC,IAAIA,CAAJ,aAAIA,CAAJ,uBAAIA,CAAC,CAAEC,KAAtB,CAAvB;AAEA,MAAIT,QAAQ,KAAKU,SAAjB,EAA4B,oBAAO,iDAAC,iEAAD,OAAP;AAE5B,sBACI,oGACKD,KAAK,iBACF,iDAAC,gEAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,iDAAC,gEAAD;AAAM,SAAK,EAAE;AAAb,KACKA,KAAK,CAACE,GAAN,CAAUC,IAAI,iBACX,iDAAC,yEAAD;AAAc,OAAG,EAAEA,IAAI,CAACC,IAAxB;AAA8B,QAAI,EAAED;AAApC,IADH,CADL,CADJ,CAFR,EAUKhB,QAAQ,iBACL,iDAAC,gEAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,iDAAC,gEAAD;AACI,MAAE,EAAES,QADR;AAEI,WAAO,EAAEL,QAFb;AAGI,YAAQ,EAAEC,aAHd;AAII,uBAAiBK;AAJrB,IADJ,eAOI;AAAO,MAAE,EAAEA;AAAX,yBAPJ,CAXR,CADJ;AAwBH","sources":["webpack://jacdac-docs/./src/components/dashboard/DashboardRoleManager.tsx"],"sourcesContent":["import { Grid, List, Switch } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport { RoleManagerReg } from \"../../../jacdac-ts/src/jdom/constants\"\nimport { DashboardServiceProps } from \"./DashboardServiceWidget\"\nimport { useId } from \"react-use-id-hook\"\nimport { useRegisterBoolValue } from \"../../jacdac/useRegisterValue\"\nimport LoadingProgress from \"../ui/LoadingProgress\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport useChange from \"../../jacdac/useChange\"\nimport { RoleListItem } from \"../services/RoleListItem\"\nimport useRegister from \"../hooks/useRegister\"\n\nexport default function DashboardRoleManager(props: DashboardServiceProps) {\n    const { service, expanded } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const autoBindRegister = useRegister(service, RoleManagerReg.AutoBind)\n    const autoBind = useRegisterBoolValue(autoBindRegister, props)\n    const handleChecked = async (ev, checked: boolean) => {\n        await autoBindRegister.sendSetBoolAsync(checked, true)\n    }\n    const switchId = useId()\n    const labelId = useId()\n    const roleManager = useChange(bus, _ => _.roleManager)\n    const roles = useChange(roleManager, _ => _?.roles)\n\n    if (autoBind === undefined) return <LoadingProgress />\n\n    return (\n        <>\n            {roles && (\n                <Grid item xs={12}>\n                    <List dense={true}>\n                        {roles.map(role => (\n                            <RoleListItem key={role.name} role={role} />\n                        ))}\n                    </List>\n                </Grid>\n            )}\n            {expanded && (\n                <Grid item xs={12}>\n                    <Switch\n                        id={switchId}\n                        checked={autoBind}\n                        onChange={handleChecked}\n                        aria-labelledby={labelId}\n                    />\n                    <label id={labelId}>auto assign roles</label>\n                </Grid>\n            )}\n        </>\n    )\n}\n"],"names":["Grid","List","Switch","React","useContext","RoleManagerReg","useId","useRegisterBoolValue","LoadingProgress","JacdacContext","useChange","RoleListItem","useRegister","DashboardRoleManager","props","service","expanded","bus","autoBindRegister","AutoBind","autoBind","handleChecked","ev","checked","sendSetBoolAsync","switchId","labelId","roleManager","_","roles","undefined","map","role","name"],"sourceRoot":""}